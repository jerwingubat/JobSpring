<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Us | JobSpring</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <!-- Reuse Header from index.html -->
    <header>
        <div class="header-container container">
            <a href="index.html" class="logo">Job<span>Spring</span></a>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            <nav id="mainNav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="jobs.html">Jobs</a></li>
                    <li><a href="candidates.html">For Candidates</a></li>
                    <li><a href="employers.html">For Employers</a></li>
                    <li><a href="about.html" class="active">About Us</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            <div class="login-dropdown" style="margin-left: 1.5rem;">
                <button class="btn btn-outline" id="loginDropdownBtn" style="padding: 0.5rem 1.2rem; font-size: 1rem;">Login</button>
                <div id="loginDropdownMenu" style="display: none; position: absolute; right: 0; top: 110%; background: #fff; border-radius: 10px; box-shadow: 0 4px 24px rgba(0,0,0,0.10); min-width: 220px; z-index: 2000;">
                    <div style="padding: 1rem 1.2rem; border-bottom: 1px solid #eee;">
                        <strong style="font-size: 1.02rem; color: var(--primary);">Employee</strong><br>
                        <a href="employee-login.html" style="display: block; margin: 0.5rem 0 0.2rem 0; color: var(--accent); text-decoration: none;">Login</a>
                        <a href="employee-register.html" style="display: block; color: var(--primary); text-decoration: none;">Register</a>
                    </div>
                    <div style="padding: 1rem 1.2rem;">
                        <strong style="font-size: 1.02rem; color: var(--primary);">Employer</strong><br>
                        <a href="employer-login.html" style="display: block; margin: 0.5rem 0 0.2rem 0; color: var(--accent); text-decoration: none;">Login</a>
                        <a href="employer-register.html" style="display: block; color: var(--primary); text-decoration: none;">Register</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- About Hero -->
    <section class="about-hero">
        <div class="hero-content">
            <h1>Our Story</h1>
            <p id="aboutHeroSubtitle"><span style="color:#888;">Loading...</span></p>
        </div>
    </section>

    <!-- Our Story -->
    <section class="our-story">
        <div class="container">
            <div class="story-content">
                <div class="story-text">
                    <h2>Who We Are</h2>
                    <div id="aboutWho"><span style="color:#888;">Loading...</span></div>
                    <a href="contact.html" class="btn">Get in Touch</a>
                </div>

                <div class="story-image">
                    <img src="https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
                        alt="Our team at work">
                </div>
            </div>
        </div>
    </section>

    <!-- Milestones -->
    <section class="milestones">
        <div class="container">
            <div class="section-title">
                <h2>Our Impact</h2>
                <p>Numbers that tell our story</p>
            </div>

            <div class="milestones-grid">
                <div class="milestone-card">
                    <div class="milestone-number">5,000+</div>
                    <h3>Candidates Placed</h3>
                </div>

                <div class="milestone-card">
                    <div class="milestone-number">1,200+</div>
                    <h3>Client Companies</h3>
                </div>

                <div class="milestone-card">
                    <div class="milestone-number">85%</div>
                    <h3>Retention Rate</h3>
                </div>

                <div class="milestone-card">
                    <div class="milestone-number">15</div>
                    <h3>Industry Awards</h3>
                </div>
            </div>
        </div>
    </section>

    <!-- Our Team -->
    <section class="team">
        <div class="container">
            <div class="section-title">
                <h2>Meet Our Leadership Team</h2>
                <p>The experts behind your success</p>
            </div>

            <div class="team-grid" id="aboutTeamGrid">
                <div style="color:#888;">Loading...</div>
            </div>
        </div>
    </section>

    <!-- Our Values -->
    <section class="values">
        <div class="container">
            <div class="section-title">
                <h2>Our Core Values</h2>
                <p>The principles that guide everything we do</p>
            </div>

            <div class="values-grid" id="aboutValuesGrid">
                <div style="color:#888;">Loading...</div>
            </div>
        </div>
    </section>

    <!-- Reuse Footer from index.html -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <!-- Footer content from index.html -->
            </div>

            <div class="footer-bottom">
                <p>&copy; 2023 TalentFinders Recruitment Agency. All rights reserved. | <a href="#">Privacy Policy</a> |
                    <a href="#">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBYpGF5iy51Np9zbZH8Dzv5ZqV3dI-Lo9A",
      authDomain: "jobspring-15ced.firebaseapp.com",
      projectId: "jobspring-15ced",
      storageBucket: "jobspring-15ced.firebasestorage.app",
      messagingSenderId: "1055597236396",
      appId: "1:1055597236396:web:3edd2120f45c858947cf09",
      measurementId: "G-EFEEYJ1T94"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();
    auth.onAuthStateChanged(async user => {
      const loginDropdown = document.querySelector('.login-dropdown');
      if (user) {
        if (loginDropdown) loginDropdown.style.display = 'none';
        const userDoc = await db.collection('users').doc(user.uid).get();
        let type = userDoc.exists ? userDoc.data().type : null;
        const header = document.querySelector('.header-container');
        let userNav = document.getElementById('userNav');
        if (!userNav) {
          userNav = document.createElement('div');
          userNav.id = 'userNav';
          userNav.style.marginLeft = '1.5rem';
          header.appendChild(userNav);
        }
        userNav.innerHTML = '';
        if (type === 'employee') {
          userNav.innerHTML = '<a href="employee-dashboard.html" class="btn btn-outline">My Profile</a>';
        } else if (type === 'employer') {
          userNav.innerHTML = '<a href="employer-dashboard.html" class="btn btn-outline">Dashboard</a>';
        } else if (type === 'admin') {
          userNav.innerHTML = '<a href="admin/admin-dashboard.html" class="btn btn-outline">Admin</a>';
        }
        const logoutBtn = document.createElement('button');
        logoutBtn.className = 'btn btn-outline';
        logoutBtn.textContent = 'Logout';
        logoutBtn.style.marginLeft = '1rem';
        logoutBtn.onclick = function() {
          auth.signOut().then(() => window.location.reload());
        };
        userNav.appendChild(logoutBtn);
      } else {
        if (loginDropdown) loginDropdown.style.display = '';
        const userNav = document.getElementById('userNav');
        if (userNav) userNav.remove();
      }
    });
    </script>
    <script>
        // Mobile Menu Toggle
        document.getElementById('mobileMenuBtn').addEventListener('click', function () {
            const nav = document.getElementById('mainNav');
            nav.style.display = nav.style.display === 'block' ? 'none' : 'block';
        });

        // Login Dropdown
        const loginBtn = document.getElementById('loginDropdownBtn');
        const loginMenu = document.getElementById('loginDropdownMenu');
        loginBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            loginMenu.style.display = loginMenu.style.display === 'block' ? 'none' : 'block';
        });
        document.addEventListener('click', function(e) {
            if (!loginMenu.contains(e.target) && e.target !== loginBtn) {
                loginMenu.style.display = 'none';
            }
        });
    </script>
    <script>
        // Dynamically load about page content from Firestore
        async function loadAboutContent() {
          try {
            const doc = await db.collection('site').doc('about').get();
            if (doc.exists) {
              const data = doc.data();
              document.getElementById('aboutHeroSubtitle').textContent = data.heroSubtitle || 'Connecting talent with opportunity since 2010';
              document.getElementById('aboutWho').innerHTML = data.who || 'No information set.';
              // Values
              const grid = document.getElementById('aboutValuesGrid');
              grid.innerHTML = '';
              if (data.values && data.valuesDesc && data.values.length === data.valuesDesc.length) {
                for (let i = 0; i < data.values.length; i++) {
                  const value = data.values[i];
                  const desc = data.valuesDesc[i];
                  grid.innerHTML += `<div class="value-card">
                    <div class="value-icon"><i class="fas fa-star"></i></div>
                    <h3>${value}</h3>
                    <p>${desc}</p>
                  </div>`;
                }
              } else {
                grid.innerHTML = '<div>No values set.</div>';
              }
              // Team
              const teamGrid = document.getElementById('aboutTeamGrid');
              teamGrid.innerHTML = '';
              if (data.team && data.team.length) {
                for (const member of data.team) {
                  teamGrid.innerHTML += `
                    <div class="team-card">
                      <div class="team-image">
                        <img src="${member.img || ''}" alt="${member.name || ''}">
                      </div>
                      <div class="team-info">
                        <h3>${member.name || ''}</h3>
                        <p>${member.title || ''}</p>
                        <div class="team-social">
                          ${member.linkedin ? `<a href="${member.linkedin}" target="_blank"><i class="fab fa-linkedin-in"></i></a>` : `<span style='color:#bbb;cursor:not-allowed;'><i class="fab fa-linkedin-in"></i></span>`}
                          ${member.twitter ? `<a href="${member.twitter}" target="_blank"><i class="fab fa-twitter"></i></a>` : `<span style='color:#bbb;cursor:not-allowed;'><i class="fab fa-twitter"></i></span>`}
                          ${member.email ? `<a href="mailto:${member.email}"><i class="fas fa-envelope"></i></a>` : ''}
                        </div>
                      </div>
                    </div>
                  `;
                }
              } else {
                teamGrid.innerHTML = '<div>No team members set.</div>';
              }
            } else {
              document.getElementById('aboutHeroSubtitle').textContent = 'Connecting talent with opportunity since 2010';
              document.getElementById('aboutWho').innerHTML = 'No information set.';
              document.getElementById('aboutValuesGrid').innerHTML = '<div>No values set.</div>';
              document.getElementById('aboutTeamGrid').innerHTML = '<div>No team members set.</div>';
            }
          } catch (err) {
            document.getElementById('aboutHeroSubtitle').textContent = 'Error loading';
            document.getElementById('aboutWho').innerHTML = 'Error loading';
            document.getElementById('aboutValuesGrid').innerHTML = '<div>Error loading</div>';
            document.getElementById('aboutTeamGrid').innerHTML = '<div>Error loading</div>';
          }
        }
        loadAboutContent();
    </script>
</body>

</html>